(window.webpackJsonp=window.webpackJsonp||[]).push([[302],{478:function(a,t,r){"use strict";r.r(t);var s=r(6),_=Object(s.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"note-kvm实战-原理进阶与性能调优"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#note-kvm实战-原理进阶与性能调优"}},[a._v("#")]),a._v(" [Note]KVM实战-原理进阶与性能调优")]),a._v(" "),r("ul",[r("li",[a._v("@blog "),r("a",{attrs:{href:"http://smilejay.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://smilejay.com/"),r("OutboundLink")],1)]),a._v(" "),r("li",[a._v("@code "),r("a",{attrs:{href:"https://github.com/smilejay/kvm-book",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/smilejay/kvm-book"),r("OutboundLink")],1)]),a._v(" "),r("li",[a._v("@doc "),r("a",{attrs:{href:"https://weread.qq.com/web/reader/c4332b907171b74cc437986",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://weread.qq.com/web/reader/c4332b907171b74cc437986"),r("OutboundLink")],1)])]),a._v(" "),r("hr"),a._v(" "),r("h1",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),r("h1",{attrs:{id:"第一篇-kvm虚拟化基础"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第一篇-kvm虚拟化基础"}},[a._v("#")]),a._v(" 第一篇 KVM虚拟化基础")]),a._v(" "),r("h1",{attrs:{id:"第1章-虚拟化简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第1章-虚拟化简介"}},[a._v("#")]),a._v(" 第1章 虚拟化简介")]),a._v(" "),r("h1",{attrs:{id:"_1-1-云计算概述-ignore"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-云计算概述-ignore"}},[a._v("#")]),a._v(" 1.1 云计算概述 @ignore")]),a._v(" "),r("ul",[r("li",[a._v("云计算：是一种基于互联网的计算方式，通过这种方式，"),r("code",[a._v("共享")]),a._v("的软硬件资源和信息可以"),r("code",[a._v("按需求")]),a._v("提供给计算机各种终端和其他设备")]),a._v(" "),r("li",[a._v("每个人独自拥有一台计算机似乎有些浪费(闲置) --\x3e 类似现代操作系统那样分时复用")]),a._v(" "),r("li",[a._v("从提供IT服务逐步过渡到"),r("code",[a._v("根据业务需求优化服务的交付和使用")])])]),a._v(" "),r("h1",{attrs:{id:"_1-2-虚拟化技术"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-虚拟化技术"}},[a._v("#")]),a._v(" 1.2 虚拟化技术")]),a._v(" "),r("h1",{attrs:{id:"_1-3-kvm简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-kvm简介"}},[a._v("#")]),a._v(" 1.3 KVM简介")]),a._v(" "),r("ul",[r("li",[a._v("Kernel-based Virtual Machine: 基于内核的虚拟机")]),a._v(" "),r("li",[a._v("采用硬件虚拟化技术的全虚拟化解决方案")]),a._v(" "),r("li",[a._v("KVM快速被内核社区接纳的原因")])]),a._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[a._v("Xen\n1) 取代内核由自身管理系统资源的架构引起了内核开发人员的不满和抵触\n2) 硬件虚拟化技术的历史包袱\n")])])]),r("ul",[r("li",[a._v("KVM将Linux内核变成了一个Hypervisor(Type 2 Hypervisor), 但硬件管理等还是通过Linuxkernel来完成的")])]),a._v(" "),r("p",[r("img",{attrs:{src:"https://luo0412.oss-cn-hangzhou.aliyuncs.com/static/images/kvm/kvm.jfif",alt:""}})]),a._v(" "),r("ul",[r("li",[a._v("靠软件的GVA→GPA→HVA→HPA的转换(影子页表机制)被硬件逻辑(Intel的EPT或者AMD的NPT技术)取代了 --\x3e 大大提高了执行效率")]),a._v(" "),r("li",[a._v("KVM支持实时迁移")]),a._v(" "),r("li",[a._v("KVM已经成为Openstack用户选择的最主流的Hypervisor")]),a._v(" "),r("li",[a._v("在公有云上广泛部署，KVM功能的完备性是毋庸置疑的")]),a._v(" "),r("li",[a._v("比较VMware EXS与KVM\n"),r("ul",[r("li",[a._v("@doc "),r("a",{attrs:{href:"ftp://public.dhe.ibm.com/linux/pdfs/Clabby_Analytics_-_VMware_v_KVM.pdf"}},[a._v("ftp://public.dhe.ibm.com/linux/pdfs/Clabby_Analytics_-_VMware_v_KVM.pdf")])])])]),a._v(" "),r("li",[a._v("即使各有优劣，"),r("code",[a._v("虚拟化技术发展到今天已经成熟")])]),a._v(" "),r("li",[a._v("KVM展望\n"),r("ul",[r("li",[a._v("大规模部署 @eg 热迁移的宕机时间")]),a._v(" "),r("li",[a._v("实时性 @eg NFV实时性的要求责无旁贷地落到了KVM头上")]),a._v(" "),r("li",[a._v("安全 --\x3e KVM作为Type 2的Hypervisor，天然地与"),r("code",[a._v("Host OS")]),a._v("??有关联，安全性方面的话题更引人注目")]),a._v(" "),r("li",[a._v("性能")])])])]),a._v(" "),r("h1",{attrs:{id:"_1-4-其他的虚拟化解决方案简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-其他的虚拟化解决方案简介"}},[a._v("#")]),a._v(" 1.4 其他的虚拟化解决方案简介")]),a._v(" "),r("ul",[r("li",[a._v("Xen")]),a._v(" "),r("li",[a._v("VMware @closed")]),a._v(" "),r("li",[a._v("HyperV @closed")]),a._v(" "),r("li",[a._v("Container --\x3e 操作系统级的虚拟化技术 --\x3e 适用于"),r("code",[a._v("PaaS")]),a._v("服务模型")])]),a._v(" "),r("h1",{attrs:{id:"_1-5-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-本章小结"}},[a._v("#")]),a._v(" 1.5 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第2章-kvm原理简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第2章-kvm原理简介"}},[a._v("#")]),a._v(" 第2章 KVM原理简介")]),a._v(" "),r("h1",{attrs:{id:"_2-1-硬件虚拟化技术"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-硬件虚拟化技术"}},[a._v("#")]),a._v(" 2.1 硬件虚拟化技术")]),a._v(" "),r("h1",{attrs:{id:"_2-2-kvm架构概述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-kvm架构概述"}},[a._v("#")]),a._v(" 2.2 KVM架构概述")]),a._v(" "),r("h1",{attrs:{id:"_2-3-kvm内核模块"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-kvm内核模块"}},[a._v("#")]),a._v(" 2.3 KVM内核模块")]),a._v(" "),r("h1",{attrs:{id:"_2-4-qemu用户态设备模拟"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-qemu用户态设备模拟"}},[a._v("#")]),a._v(" 2.4 QEMU用户态设备模拟")]),a._v(" "),r("h1",{attrs:{id:"_2-5-与qemu-kvm结合的组件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-与qemu-kvm结合的组件"}},[a._v("#")]),a._v(" 2.5 与QEMU/KVM结合的组件")]),a._v(" "),r("h1",{attrs:{id:"_2-6-kvm上层管理工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-kvm上层管理工具"}},[a._v("#")]),a._v(" 2.6 KVM上层管理工具")]),a._v(" "),r("h1",{attrs:{id:"_2-7-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-本章小结"}},[a._v("#")]),a._v(" 2.7 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第3章-构建kvm环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第3章-构建kvm环境"}},[a._v("#")]),a._v(" 第3章 构建KVM环境")]),a._v(" "),r("h1",{attrs:{id:"_3-1-硬件系统的配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-硬件系统的配置"}},[a._v("#")]),a._v(" 3.1 硬件系统的配置")]),a._v(" "),r("h1",{attrs:{id:"_3-2-安装宿主机linux系统"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-安装宿主机linux系统"}},[a._v("#")]),a._v(" 3.2 安装宿主机Linux系统")]),a._v(" "),r("h1",{attrs:{id:"_3-3-编译和安装kvm"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-编译和安装kvm"}},[a._v("#")]),a._v(" 3.3 编译和安装KVM")]),a._v(" "),r("h1",{attrs:{id:"_3-4-编译和安装qemu"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-编译和安装qemu"}},[a._v("#")]),a._v(" 3.4 编译和安装QEMU")]),a._v(" "),r("h1",{attrs:{id:"_3-5-安装客户机"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-安装客户机"}},[a._v("#")]),a._v(" 3.5 安装客户机")]),a._v(" "),r("h1",{attrs:{id:"_3-6-启动第一个kvm客户机"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-启动第一个kvm客户机"}},[a._v("#")]),a._v(" 3.6 启动第一个KVM客户机")]),a._v(" "),r("h1",{attrs:{id:"_3-7-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-本章小结"}},[a._v("#")]),a._v(" 3.7 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第4章-kvm管理工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第4章-kvm管理工具"}},[a._v("#")]),a._v(" 第4章 KVM管理工具")]),a._v(" "),r("h1",{attrs:{id:"_4-1-libvirt"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-libvirt"}},[a._v("#")]),a._v(" 4.1 libvirt")]),a._v(" "),r("h1",{attrs:{id:"_4-2-virsh"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-virsh"}},[a._v("#")]),a._v(" 4.2 virsh")]),a._v(" "),r("h1",{attrs:{id:"_4-3-virt-manager"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-virt-manager"}},[a._v("#")]),a._v(" 4.3 virt-manager")]),a._v(" "),r("h1",{attrs:{id:"_4-4-virt-viewer、virt-install、virt-top和libguestfs"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-virt-viewer、virt-install、virt-top和libguestfs"}},[a._v("#")]),a._v(" 4.4 virt-viewer、virt-install、virt-top和libguestfs")]),a._v(" "),r("h1",{attrs:{id:"_4-5-云计算管理平台"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-云计算管理平台"}},[a._v("#")]),a._v(" 4.5 云计算管理平台")]),a._v(" "),r("h1",{attrs:{id:"_4-6-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-本章小结"}},[a._v("#")]),a._v(" 4.6 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第5章-kvm核心基础功能"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第5章-kvm核心基础功能"}},[a._v("#")]),a._v(" 第5章 KVM核心基础功能")]),a._v(" "),r("h1",{attrs:{id:"_5-1-硬件平台和软件版本说明"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-硬件平台和软件版本说明"}},[a._v("#")]),a._v(" 5.1 硬件平台和软件版本说明")]),a._v(" "),r("h1",{attrs:{id:"_5-2-cpu配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-cpu配置"}},[a._v("#")]),a._v(" 5.2 CPU配置")]),a._v(" "),r("h1",{attrs:{id:"_5-3-内存配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-内存配置"}},[a._v("#")]),a._v(" 5.3 内存配置")]),a._v(" "),r("h1",{attrs:{id:"_5-4-存储配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-存储配置"}},[a._v("#")]),a._v(" 5.4 存储配置")]),a._v(" "),r("h1",{attrs:{id:"_5-5-网络配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-网络配置"}},[a._v("#")]),a._v(" 5.5 网络配置")]),a._v(" "),r("h1",{attrs:{id:"_5-6-图形显示"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-图形显示"}},[a._v("#")]),a._v(" 5.6 图形显示")]),a._v(" "),r("h1",{attrs:{id:"_5-7-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-本章小结"}},[a._v("#")]),a._v(" 5.7 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第二篇-kvm虚拟化进阶"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第二篇-kvm虚拟化进阶"}},[a._v("#")]),a._v(" 第二篇 KVM虚拟化进阶")]),a._v(" "),r("h1",{attrs:{id:"第6章-kvm设备高级管理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第6章-kvm设备高级管理"}},[a._v("#")]),a._v(" 第6章 KVM设备高级管理")]),a._v(" "),r("h1",{attrs:{id:"_6-1-半虚拟化驱动"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-半虚拟化驱动"}},[a._v("#")]),a._v(" 6.1 半虚拟化驱动")]),a._v(" "),r("h1",{attrs:{id:"_6-2-设备直接分配（vt-d）"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-设备直接分配（vt-d）"}},[a._v("#")]),a._v(" 6.2 设备直接分配（VT-d）")]),a._v(" "),r("h1",{attrs:{id:"_6-3-热插拔"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-热插拔"}},[a._v("#")]),a._v(" 6.3 热插拔")]),a._v(" "),r("h1",{attrs:{id:"_6-4-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-本章小结"}},[a._v("#")]),a._v(" 6.4 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第7章-kvm内存管理高级技巧"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第7章-kvm内存管理高级技巧"}},[a._v("#")]),a._v(" 第7章 KVM内存管理高级技巧")]),a._v(" "),r("h1",{attrs:{id:"_7-1-大页"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-大页"}},[a._v("#")]),a._v(" 7.1 大页")]),a._v(" "),r("h1",{attrs:{id:"_7-2-透明大页"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-透明大页"}},[a._v("#")]),a._v(" 7.2 透明大页")]),a._v(" "),r("h1",{attrs:{id:"_7-3-ksm"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-ksm"}},[a._v("#")]),a._v(" 7.3 KSM")]),a._v(" "),r("h1",{attrs:{id:"_7-4-与numa相关的工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-与numa相关的工具"}},[a._v("#")]),a._v(" 7.4 与NUMA相关的工具")]),a._v(" "),r("h1",{attrs:{id:"_7-5-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-本章小结"}},[a._v("#")]),a._v(" 7.5 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第8章-kvm迁移"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第8章-kvm迁移"}},[a._v("#")]),a._v(" 第8章 KVM迁移")]),a._v(" "),r("h1",{attrs:{id:"_8-1-动态迁移"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-动态迁移"}},[a._v("#")]),a._v(" 8.1 动态迁移")]),a._v(" "),r("h1",{attrs:{id:"_8-2-迁移到kvm虚拟化环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-迁移到kvm虚拟化环境"}},[a._v("#")]),a._v(" 8.2 迁移到KVM虚拟化环境")]),a._v(" "),r("h1",{attrs:{id:"_8-3-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-本章小结"}},[a._v("#")]),a._v(" 8.3 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第9章-其他高级功能"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第9章-其他高级功能"}},[a._v("#")]),a._v(" 第9章 其他高级功能")]),a._v(" "),r("h1",{attrs:{id:"_9-1-嵌套虚拟化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-嵌套虚拟化"}},[a._v("#")]),a._v(" 9.1 嵌套虚拟化")]),a._v(" "),r("h1",{attrs:{id:"_9-2-kvm安全"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-kvm安全"}},[a._v("#")]),a._v(" 9.2 KVM安全")]),a._v(" "),r("h1",{attrs:{id:"_9-3-cpu指令相关的性能优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-cpu指令相关的性能优化"}},[a._v("#")]),a._v(" 9.3 CPU指令相关的性能优化")]),a._v(" "),r("h1",{attrs:{id:"_9-4-qemu监控器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-qemu监控器"}},[a._v("#")]),a._v(" 9.4 QEMU监控器")]),a._v(" "),r("h1",{attrs:{id:"_9-5-qemu命令行参数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-5-qemu命令行参数"}},[a._v("#")]),a._v(" 9.5 qemu命令行参数")]),a._v(" "),r("h1",{attrs:{id:"_9-6-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_9-6-本章小结"}},[a._v("#")]),a._v(" 9.6 本章小结")]),a._v(" "),r("h1",{attrs:{id:"第三篇-性能测试与调优"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第三篇-性能测试与调优"}},[a._v("#")]),a._v(" 第三篇 性能测试与调优")]),a._v(" "),r("h1",{attrs:{id:"第10章-kvm性能测试及参考数据"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第10章-kvm性能测试及参考数据"}},[a._v("#")]),a._v(" 第10章 KVM性能测试及参考数据")]),a._v(" "),r("h1",{attrs:{id:"_10-1-虚拟化性能测试简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-1-虚拟化性能测试简介"}},[a._v("#")]),a._v(" 10.1 虚拟化性能测试简介")]),a._v(" "),r("h1",{attrs:{id:"_10-2-cpu性能测试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-2-cpu性能测试"}},[a._v("#")]),a._v(" 10.2 CPU性能测试")]),a._v(" "),r("h1",{attrs:{id:"_10-3-内存性能测试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-3-内存性能测试"}},[a._v("#")]),a._v(" 10.3 内存性能测试")]),a._v(" "),r("h1",{attrs:{id:"_10-4-网络性能测试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-4-网络性能测试"}},[a._v("#")]),a._v(" 10.4 网络性能测试")]),a._v(" "),r("h1",{attrs:{id:"_10-5-磁盘i-o性能测试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-5-磁盘i-o性能测试"}},[a._v("#")]),a._v(" 10.5 磁盘I/O性能测试")]),a._v(" "),r("h1",{attrs:{id:"_10-6-cpu指令集对性能的提升"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-6-cpu指令集对性能的提升"}},[a._v("#")]),a._v(" 10.6 CPU指令集对性能的提升")]),a._v(" "),r("h1",{attrs:{id:"_10-7-其他影响客户机性能的因素"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-7-其他影响客户机性能的因素"}},[a._v("#")]),a._v(" 10.7 其他影响客户机性能的因素")]),a._v(" "),r("h1",{attrs:{id:"_10-8-本章小结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_10-8-本章小结"}},[a._v("#")]),a._v(" 10.8 本章小结")]),a._v(" "),r("h1",{attrs:{id:"附录a-linux发行版中的kvm"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#附录a-linux发行版中的kvm"}},[a._v("#")]),a._v(" 附录A Linux发行版中的KVM")]),a._v(" "),r("h1",{attrs:{id:"附录b-参与kvm开源社区"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#附录b-参与kvm开源社区"}},[a._v("#")]),a._v(" 附录B 参与KVM开源社区")]),a._v(" "),r("hr"),a._v(" "),r("h1",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考")])])}),[],!1,null,null,null);t.default=_.exports}}]);